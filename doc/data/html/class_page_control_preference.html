<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Shop: PageControlPreference Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doc.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.0 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<h1>PageControlPreference Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="PageControlPreference" --><!-- doxytag: inherits="Preference" -->
<p>Class for handling preferences on <a class="el" href="catalog_8php.html" title="Prints item catalog and its controls, uses CatalogManager.">catalog.php</a> page (sorting, items on page).  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for PageControlPreference:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_page_control_preference.png" usemap="#PageControlPreference_map" alt=""/>
  <map id="PageControlPreference_map" name="PageControlPreference_map">
<area href="class_preference.html" alt="Preference" shape="rect" coords="78,0,224,24"/>
<area href="class_top_items_on_page_no.html" alt="TopItemsOnPageNo" shape="rect" coords="0,112,146,136"/>
<area href="class_top_sorting_order.html" alt="TopSortingOrder" shape="rect" coords="156,112,302,136"/>
</map>
</div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_page_control_preference.html#ac3d92cd30b3a0c140a26b0ea4142c804">__construct</a> ($userID)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#ac3d92cd30b3a0c140a26b0ea4142c804"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_page_control_preference.html#ae1455e5fc2abf7aa16dba921a6608254">getPreference</a> ($args)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns id of most preferred page controls object.  <a href="#ae1455e5fc2abf7aa16dba921a6608254"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_page_control_preference.html#a376f6969cdeae6d326f8e38565582e1e">setPreference</a> ($args)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets user's page controls preference to specified object.  <a href="#a376f6969cdeae6d326f8e38565582e1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_page_control_preference.html#a8831b0bc819f2b304f311a89d653e8b3">getPrefName</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns name of current preference handled by a child class.  <a href="#a8831b0bc819f2b304f311a89d653e8b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_page_control_preference.html#af9b9401c63918169457fe8516324950f">getDefaultValue</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns default value of current preference handled by a child class.  <a href="#af9b9401c63918169457fe8516324950f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_page_control_preference.html#a65934271547662f3994eadaebcea2e18">mostCommonValue</a> ($ar)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns most common value in an array.  <a href="#a65934271547662f3994eadaebcea2e18"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class for handling preferences on <a class="el" href="catalog_8php.html" title="Prints item catalog and its controls, uses CatalogManager.">catalog.php</a> page (sorting, items on page). </p>
<p>Every user can have different preferences for every category. When preference for current category is unknown, it is counted from other categories or other users' preferences. </p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00156">156</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac3d92cd30b3a0c140a26b0ea4142c804"></a><!-- doxytag: member="PageControlPreference::__construct" ref="ac3d92cd30b3a0c140a26b0ea4142c804" args="($userID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userID</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>&lt;int&gt;</em>&nbsp;</td><td>$userID </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_preference.html#ac3d92cd30b3a0c140a26b0ea4142c804">Preference</a>.</p>

<p>Reimplemented in <a class="el" href="class_top_sorting_order.html#ac3d92cd30b3a0c140a26b0ea4142c804">TopSortingOrder</a>, and <a class="el" href="class_top_items_on_page_no.html#ac3d92cd30b3a0c140a26b0ea4142c804">TopItemsOnPageNo</a>.</p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00158">158</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af9b9401c63918169457fe8516324950f"></a><!-- doxytag: member="PageControlPreference::getDefaultValue" ref="af9b9401c63918169457fe8516324950f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getDefaultValue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns default value of current preference handled by a child class. </p>

<p>Reimplemented in <a class="el" href="class_top_sorting_order.html#af9b9401c63918169457fe8516324950f">TopSortingOrder</a>, and <a class="el" href="class_top_items_on_page_no.html#af9b9401c63918169457fe8516324950f">TopItemsOnPageNo</a>.</p>

</div>
</div>
<a class="anchor" id="ae1455e5fc2abf7aa16dba921a6608254"></a><!-- doxytag: member="PageControlPreference::getPreference" ref="ae1455e5fc2abf7aa16dba921a6608254" args="($args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPreference </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>args</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns id of most preferred page controls object. </p>
<p>First looks into session, then for user's preference in database, then for most popular object among other categories, then for popular object among all users but within the same category and at last for most popular object globally. If user is not logged in, database is not used (because they can't have anything saved there), and most frequent object ID is counted from the session var. If nothing can be found, virtual function getDefaultValue is called to get the default. It also sets the session not to have to look into database next time.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>&lt;array&gt;</em>&nbsp;</td><td>$args array, first value must be category ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;int&gt; id of preferred object </dd></dl>

<p>Reimplemented from <a class="el" href="class_preference.html#ae1455e5fc2abf7aa16dba921a6608254">Preference</a>.</p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00175">175</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8831b0bc819f2b304f311a89d653e8b3"></a><!-- doxytag: member="PageControlPreference::getPrefName" ref="a8831b0bc819f2b304f311a89d653e8b3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPrefName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [abstract]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns name of current preference handled by a child class. </p>

<p>Reimplemented in <a class="el" href="class_top_sorting_order.html#a8831b0bc819f2b304f311a89d653e8b3">TopSortingOrder</a>, and <a class="el" href="class_top_items_on_page_no.html#a8831b0bc819f2b304f311a89d653e8b3">TopItemsOnPageNo</a>.</p>

</div>
</div>
<a class="anchor" id="a65934271547662f3994eadaebcea2e18"></a><!-- doxytag: member="PageControlPreference::mostCommonValue" ref="a65934271547662f3994eadaebcea2e18" args="($ar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mostCommonValue </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ar</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns most common value in an array. </p>
<p>This is used to find most popular object in the session variable.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>&lt;type&gt;</em>&nbsp;</td><td>$ar array </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>&lt;type&gt; </dd></dl>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00271">271</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<a class="anchor" id="a376f6969cdeae6d326f8e38565582e1e"></a><!-- doxytag: member="PageControlPreference::setPreference" ref="a376f6969cdeae6d326f8e38565582e1e" args="($args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setPreference </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>args</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets user's page controls preference to specified object. </p>
<p>Session and database are both changed. This is done only for users that are logged in.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>&lt;array&gt;</em>&nbsp;</td><td>$args array, first value category ID, second one is ID of preferred object </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_preference.html#a376f6969cdeae6d326f8e38565582e1e">Preference</a>.</p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00239">239</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>php/data/<a class="el" href="preference_8php_source.html">preference.php</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Aug 3 2010 18:04:40 for Shop by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.0 </small></address>
</body>
</html>
