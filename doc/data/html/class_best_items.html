<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Shop: BestItems Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doc.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.0 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<h1>BestItems Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="BestItems" --><!-- doxytag: inherits="Preference" -->
<p>Various types of user's product preferences.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for BestItems:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_best_items.png" usemap="#BestItems_map" alt=""/>
  <map id="BestItems_map" name="BestItems_map">
<area href="class_preference.html" alt="Preference" shape="rect" coords="88,0,166,24"/>
<area href="class_linked_items.html" alt="LinkedItems" shape="rect" coords="0,112,78,136"/>
<area href="class_similar_items.html" alt="SimilarItems" shape="rect" coords="88,112,166,136"/>
<area href="class_top_items.html" alt="TopItems" shape="rect" coords="176,112,254,136"/>
</map>
</div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_best_items.html#a376f6969cdeae6d326f8e38565582e1e">setPreference</a> ($args)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Just calls incrementBehavior with the same parameters.  <a href="#a376f6969cdeae6d326f8e38565582e1e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_best_items.html#afeca3db59e4f0e9f3e6e1ff30f7a8092">updateFinalRatings</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counts final ratings for each product, user and method.  <a href="#afeca3db59e4f0e9f3e6e1ff30f7a8092"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_best_items.html#ab3b0b957b82958923599ff2101ccdf3d">incrementBehavior</a> ($productID, $scrollCount, $clickCount, $displayTime, $displayCount)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Saves another bit of behavior that has been received from the user.  <a href="#ab3b0b957b82958923599ff2101ccdf3d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_best_items.html#ac5192e143cfd0a1de74c417ff50c0e2e">recountRatings</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads behavior and transfers it to relative ratings.  <a href="#ac5192e143cfd0a1de74c417ff50c0e2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_best_items.html#a803b35eedda807e69304790f45d7c29d">countTotalBehaviorRatings</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counts total ratings of separate behavior values.  <a href="#a803b35eedda807e69304790f45d7c29d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_best_items.html#a03e6624c5765c054dcbe9bed4eb0ef98">countMeanBehaviorRatings</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counts mean ratings of separate behavior values.  <a href="#a03e6624c5765c054dcbe9bed4eb0ef98"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Various types of user's product preferences. </p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00406">406</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a03e6624c5765c054dcbe9bed4eb0ef98"></a><!-- doxytag: member="BestItems::countMeanBehaviorRatings" ref="a03e6624c5765c054dcbe9bed4eb0ef98" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">countMeanBehaviorRatings </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Counts mean ratings of separate behavior values. </p>
<p>All average ratings are counted over one display of the product (so divided by displayCount). Maximum fraction of value and displayCount value is found for each user and product. Ratings are counted as current fractions of the same behavior value and displayCount, divided by the maximum value. For global ratings, average values of all users are divided by maximum values of all users. This is saved as a method called 'mean'. </p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00570">570</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<a class="anchor" id="a803b35eedda807e69304790f45d7c29d"></a><!-- doxytag: member="BestItems::countTotalBehaviorRatings" ref="a803b35eedda807e69304790f45d7c29d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">countTotalBehaviorRatings </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Counts total ratings of separate behavior values. </p>
<p>Maximum value is found for each user and product. Ratings are counted as current value divided by maximum value. For global ratings, average values of all users are divided by maximum values of all users. This is saved as a method called 'total'. </p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00511">511</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab3b0b957b82958923599ff2101ccdf3d"></a><!-- doxytag: member="BestItems::incrementBehavior" ref="ab3b0b957b82958923599ff2101ccdf3d" args="($productID, $scrollCount, $clickCount, $displayTime, $displayCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">incrementBehavior </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>productID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>scrollCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>clickCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>displayTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>displayCount</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves another bit of behavior that has been received from the user. </p>
<p>This function should call <a class="el" href="class_best_items.html#ac5192e143cfd0a1de74c417ff50c0e2e" title="Reads behavior and transfers it to relative ratings.">recountRatings()</a> or something similar before it ends.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>&lt;int&gt;</em>&nbsp;</td><td>$productID of the product with which user interacted </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>&lt;int&gt;</em>&nbsp;</td><td>$scrollCount amount of scrolling in pixels </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>&lt;int&gt;</em>&nbsp;</td><td>$clickCount number of mouse clicks </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>&lt;int&gt;</em>&nbsp;</td><td>$displayTime amount of time the product was displayed in ms </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>&lt;0</em>&nbsp;</td><td>or 1&gt; $displayCount whether to add 1 to displayCount or not </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00430">430</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac5192e143cfd0a1de74c417ff50c0e2e"></a><!-- doxytag: member="BestItems::recountRatings" ref="ac5192e143cfd0a1de74c417ff50c0e2e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recountRatings </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads behavior and transfers it to relative ratings. </p>
<p>Each rating's value ranges between 0 and 100, rating 100 has the biggest behavior value, other values are lineary smaller. This is done for every behavior kind and every user. Global ratings, which is a rating average among all users, are also counted. Final ratings are counted at last, applying weights for each kind of rating, including explicit rating. Database LOCK is used to make sure this function doen't run twice or more often at a time. </p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00457">457</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<a class="anchor" id="a376f6969cdeae6d326f8e38565582e1e"></a><!-- doxytag: member="BestItems::setPreference" ref="a376f6969cdeae6d326f8e38565582e1e" args="($args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setPreference </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>args</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Just calls incrementBehavior with the same parameters. </p>

<p>Reimplemented from <a class="el" href="class_preference.html#a376f6969cdeae6d326f8e38565582e1e">Preference</a>.</p>

<p>Reimplemented in <a class="el" href="class_linked_items.html#a376f6969cdeae6d326f8e38565582e1e">LinkedItems</a>.</p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00409">409</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<a class="anchor" id="afeca3db59e4f0e9f3e6e1ff30f7a8092"></a><!-- doxytag: member="BestItems::updateFinalRatings" ref="afeca3db59e4f0e9f3e6e1ff30f7a8092" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">updateFinalRatings </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Counts final ratings for each product, user and method. </p>
<p>For global ratings average explicit rating is applied. If it is undefined anyway, medium (like 3 stars) explicit rating is used. Every rating's weight is counted in. </p>

<p>Definition at line <a class="el" href="preference_8php_source.html#l00626">626</a> of file <a class="el" href="preference_8php_source.html">preference.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>php/data/<a class="el" href="preference_8php_source.html">preference.php</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Aug 3 2010 18:04:39 for Shop by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.0 </small></address>
</body>
</html>
