<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Shop: C:/Program Files/Apache Software Foundation/Apache2.2/htdocs/shop/spec.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.0 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>C:/Program Files/Apache Software Foundation/Apache2.2/htdocs/shop/spec.php</h1>  </div>
</div>
<div class="contents">
<a href="spec_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00003"></a><a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">00003</a> function <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>($definitionName,$definitionDescription){
<a name="l00004"></a>00004   echo <span class="stringliteral">&quot;</span>
<a name="l00005"></a>00005 <span class="stringliteral">  &lt;li&gt;</span>
<a name="l00006"></a>00006 <span class="stringliteral">    &lt;div class=\&quot;dt\&quot;&gt;$definitionName&lt;/div&gt;</span>
<a name="l00007"></a>00007 <span class="stringliteral">    &lt;div class=\&quot;dd\&quot;&gt;$definitionDescription&lt;/div&gt;</span>
<a name="l00008"></a>00008 <span class="stringliteral">  &lt;/li&gt;</span>
<a name="l00009"></a>00009 <span class="stringliteral">  &quot;</span>;
<a name="l00010"></a>00010 }
<a name="l00011"></a>00011 
<a name="l00012"></a>00012   ?&gt;  
<a name="l00013"></a>00013   
<a name="l00014"></a>00014 &lt;!DOCTYPE HTML PUBLIC <span class="stringliteral">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span>&gt;
<a name="l00015"></a>00015 &lt;html&gt;
<a name="l00016"></a>00016   &lt;head&gt;
<a name="l00017"></a>00017    &lt;meta http-equiv=<span class="stringliteral">&quot;Content-Type&quot;</span> content=<span class="stringliteral">&quot;text/html; charset=UTF-8&quot;</span>&gt;
<a name="l00018"></a>00018    &lt;link rel=<span class="stringliteral">&quot;stylesheet&quot;</span> type=<span class="stringliteral">&quot;text/css&quot;</span> href=<span class="stringliteral">&quot;css/style.css&quot;</span>&gt;
<a name="l00019"></a>00019    &lt;title&gt;Specifikace&lt;/title&gt;
<a name="l00020"></a>00020    
<a name="l00021"></a>00021    &lt;style type=<span class="stringliteral">&quot;text/css&quot;</span>&gt;
<a name="l00022"></a>00022    
<a name="l00023"></a>00023       .reminder{
<a name="l00024"></a>00024         font-weight: bold;
<a name="l00025"></a>00025         font-size: 40px;
<a name="l00026"></a>00026       }
<a name="l00027"></a>00027       
<a name="l00028"></a>00028       .new{
<a name="l00029"></a>00029         border: 2px solid red;
<a name="l00030"></a>00030         padding: 0px;
<a name="l00031"></a>00031         margin: 0px;
<a name="l00032"></a>00032         <span class="comment">/*background-color: red;*/</span>
<a name="l00033"></a>00033         
<a name="l00034"></a>00034       }
<a name="l00035"></a>00035       
<a name="l00036"></a>00036       .old{
<a name="l00037"></a>00037         <span class="comment">/*border: 2px solid grey;*/</span>
<a name="l00038"></a>00038         padding: 0px;
<a name="l00039"></a>00039         margin: 0px;
<a name="l00040"></a>00040         color: lightgrey;
<a name="l00041"></a>00041       }
<a name="l00042"></a>00042    
<a name="l00043"></a>00043 <span class="preprocessor">      #entirePage{</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span>        width: 800px;
<a name="l00045"></a>00045       }
<a name="l00046"></a>00046       
<a name="l00047"></a>00047       .dt{   <span class="comment">/*protoze normalni dt a dd musi byt obaleny tagem dl, ale ja chci jejich seznam, ktery musi byt obaleny tagem ul*/</span>
<a name="l00048"></a>00048         text-indent: 15px;
<a name="l00049"></a>00049         font-weight: bold;
<a name="l00050"></a>00050         display: <span class="keyword">inline</span>;   <span class="comment">/*nechtelo se mi predelavat vsechny div na span*/</span>
<a name="l00051"></a>00051       }
<a name="l00052"></a>00052       
<a name="l00053"></a>00053       .dd{
<a name="l00054"></a>00054         text-indent: 0px;
<a name="l00055"></a>00055         margin-left: 40px;
<a name="l00056"></a>00056       }   
<a name="l00057"></a>00057       
<a name="l00058"></a>00058       ul{
<a name="l00059"></a>00059         list-style-position: inside;
<a name="l00060"></a>00060         margin-left: 0px;
<a name="l00061"></a>00061         padding-left: 20px;
<a name="l00062"></a>00062       }
<a name="l00063"></a>00063       
<a name="l00064"></a>00064       li{
<a name="l00065"></a>00065         margin-left: 0px;
<a name="l00066"></a>00066       }     
<a name="l00067"></a>00067       
<a name="l00068"></a>00068       h2{
<a name="l00069"></a>00069         color: green;
<a name="l00070"></a>00070         text-align: center; 
<a name="l00071"></a>00071         margin: 20px; 
<a name="l00072"></a>00072         padding: 20px;
<a name="l00073"></a>00073       }
<a name="l00074"></a>00074       h3{
<a name="l00075"></a>00075         color: red;
<a name="l00076"></a>00076       }
<a name="l00077"></a>00077       .klass{
<a name="l00078"></a>00078         text-decoration: underline;
<a name="l00079"></a>00079         font-weight: bold;
<a name="l00080"></a>00080       }
<a name="l00081"></a>00081 
<a name="l00082"></a>00082    &lt;/style&gt;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084   &lt;/head&gt;
<a name="l00085"></a>00085   &lt;body&gt;
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 
<a name="l00088"></a>00088     &lt;div <span class="keywordtype">id</span>=<span class="stringliteral">&quot;entirePage&quot;</span>&gt;
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 &lt;h2&gt;ZOBRAZENÍ UŽIVATELSKÝCH PREFERENCÍ NA WEBU&lt;/h2&gt;
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 &lt;h3&gt; Zadání &lt;/h3&gt;
<a name="l00093"></a>00093 &lt;p&gt;
<a name="l00094"></a>00094 Cílem tohoto ročníkového projektu je zobrazovat uživatelské preference na webu v nějakém reálném nasazení (elektronický obchod). K tomu je třeba navrhnout rozhraní <span class="stringliteral">&quot;černé skříňky&quot;</span> pro jejich poskytování. Pozornost se má zaměřit na vzhled a propracování stránek. Rozšíření na bakalářskou práci bude obsahovat získávaní, vyhodnocování a uchovávání těchto preferencí.
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 &lt;p&gt;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 Celá stránka bude rozdělená na titulek, levé menu, horní menu, pravé menu a vnitřní stránku, na které se zobrazují data, které uživatel chtěl. V levém menu se zobrazují kategorie, takže například témata diskuzí, kategorie obrázků nebo kategorie produktů v internetovém obchodě. Při kliknutí na kategorii v levém menu se zobrazí všechny její přímé podkategorie a ve vnitřní stránce se zobrazí všechny položky této a všech nižších kategorií. V pravém menu se budou zobrazovat určité nejzajímavější položky dané kategorie, takže třeba nejnovější příspěvky <span class="keywordflow">do</span> diskuze, nebo třeba nejnakupovanější produkty v obchodě. V horním menu mohou být informace o stránkách, kontakty, podpora zákazníků...
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 &lt;h3&gt; Uživatelské preference a černá skříňka &lt;/h3&gt;
<a name="l00102"></a>00102 &lt;p&gt;
<a name="l00103"></a>00103 <a class="code" href="class_preference.html" title="Base class for all preferences.">Preference</a> budou použity nad libovolnými daty, např. položky, kategorie, vzhled stránky a konkrétních elementů, nebo třeba rozmístění elementů na stránce. Takže půjde o data získaná nejenom ze sledování uživatelů, ale i z formulářů, které uživatel záměrně vyplnil (to se týká hlavně preferencí nad vzhledem).
<a name="l00104"></a>00104 &lt;p&gt;
<a name="l00105"></a>00105 Pro každý z těchto objektů bude jedna třída, která bude dědit od třídy <a class="code" href="class_preference.html" title="Base class for all preferences.">Preference</a> a bude implementovat virtuální funkci getPreference(), která vrátí data v požadovaném formátu. Černá skříňka bude třída, která bude mít na veškeré <a class="code" href="class_preference.html" title="Base class for all preferences.">Preference</a> odkaz a která se bude pro jejich získávání používat. To zpřehlední používání jednotlivých tříd a navíc zajistí, že se žádné nebudou konstruovat zbytečně. K tomu bude sloužit jediná funkce getPreference(), která musí jako parametr dostat, o jakou preferenci jde, a pak všechny parametry potřebné pro funkci getPreference už v konkrétní třídě, které se jenom předají.
<a name="l00106"></a>00106 &lt;p&gt;
<a name="l00107"></a>00107 Funkce getPreference bude mít v každé třídě jiné parametry, protože jsou vždy jiné potřeba. Jeden z nich každopádně musí být ID přihlášeného uživatele, protože každá preference může být individuální. Formátem výsledku může být cokoliv, ale nejčastěji string, číslo, pole (ideálně sql result) nebo jedna z možností enumu (v php pomocí asociativního pole).
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 &lt;p&gt;
<a name="l00110"></a>00110 Jaké konkrétní třídy se pro preference budou používat:
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 &lt;?php
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 echo <span class="stringliteral">&#39;&lt;ul&gt;&#39;</span>;
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;SortedCategories&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;Pro vrácení (ne nutně všech) kategorií určitým způsobem setříděných. To bude individuální pro každého uživatele.&#39;</span>);
<a name="l00119"></a>00119 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;TopItems&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;Pro vrácení nejlepších položek z nějaké podmnožiny kategorií.&#39;</span>);
<a name="l00120"></a>00120 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;SimilarItems&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;Podobné položky s danou položkou (třeba které si uživatelé prohlíželi hned po sobě). Similar items se zobrazí vždy při prohlížení detailů nějaké položky.&#39;</span>);
<a name="l00121"></a>00121 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;LinkedItems&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;Spojené položky. V obchodě to budou produkty, které si uživatelé koupili s daným produktem dohromady. Linked items se uživateli zobrazí vždy po přidání produktu do košíku nebo při dokončení nákupu.&#39;</span>);
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;ItemSortingOrders&lt;/span&gt;, &lt;span class=&quot;klass&quot;&gt;ItemsPerPageCounts&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;Podle čeho se mají položky kategorie při výpisu třídit a kolik se jich má najednou na stránce zobrazovat. To musí být individuální pro každou kategorii i každého uživatele. Funkce getPreference() u obou těchto tříd nebude vracet pouze jeden nejlepší výsledek, ale pole všech výsledků setříděných podle uživatelských preferencí, aby se toto správné pořadí objevovalo u příslušných html selectů. Hned první (nejlepší) výsledek se použije jako defaultní hodnota, pokud uživatel v konkrétním případě žádnou svoji nevybral.&#39;</span>);
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;PaymentType&lt;/span&gt;, &lt;span class=&quot;klass&quot;&gt;ShippingType&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;A všechny další nutné atributy pro dokončení nákupu atd. Podobně jako u ItemSortingOrders se bude vracet pole všech výsledků setřízených podle uživatelské oblíbenosti.&#39;</span>);
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;ItemDescriptionAttributes&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;Při výpisu položek zvolené kategorie se u každé zobrazuje popis. To nebude jednoduchý souvislý text, ale text složený z většího množství vlastností položky. Jejich pořadí bude záviset na preferencích a bude se vracet jako setřízené pole dvojic Vlastnost-Hodnota.&#39;</span>);
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;TableStyle, UlStyle&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;Přímo vrátí zápis stylů pro nějaký konkrétní element, třeba tabulky nebo seznamu nebo určité css třídy, ve formě textového řetězce. To je mnohem vhodnější než se ptát na každý css atribut zvlášť.&#39;</span>);
<a name="l00130"></a>00130 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;MenuPosition&lt;/span&gt;, &lt;span class=&quot;klass&quot;&gt;LoginFormPosition&lt;/span&gt;, ...&#39;</span>, <span class="stringliteral">&#39;Pozice jednotlivých elementů na stránce. Nebo jestli se tam vůbec mají vyskytovat.&#39;</span>);
<a name="l00131"></a>00131 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;VYMYSLET UPLATNĚNÍ PREFERENCÍ NA VZHLED!&#39;</span>, <span class="stringliteral">&#39;&#39;</span>);
<a name="l00132"></a>00132 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;&#39;</span>);
<a name="l00133"></a>00133 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;&lt;span class=&quot;klass&quot;&gt;&lt;/span&gt;&#39;</span>, <span class="stringliteral">&#39;&#39;</span>);
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 echo <span class="stringliteral">&#39;&lt;/ul&gt;&#39;</span>;
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 ?&gt;
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 &lt;p&gt;
<a name="l00142"></a>00142 V zásadě vše, co se bude na stránkách zobrazovat, můžou preference ovlivňovat. U internetového obchodu budou ale rozhodně nejdůležitější preference týkající se produktů.
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 &lt;h3&gt; Kategorie &lt;/h3&gt;
<a name="l00146"></a>00146 &lt;p&gt;
<a name="l00147"></a>00147 Kategorie budou v databázi uložené v tabulce, která bude vypadat: &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;klass&quot;</span>&gt;<a class="code" href="class_categories.html" title="Class representing a tree of categories.">Categories</a>&lt;/span&gt; (categoryID, superCategory, categoryName), kde superCategory je ID nadřazené kategorie, nebo 0, pokud jde o jednu z nejvyšších kategorií. Podmínkou je, že categoryID musí být vždy vyšší než superCategory (což jde snadno hlídat). Ve skriptu je kategorie třeba držet v n-árním stromě, jehož uzly budou instance třídy &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;klass&quot;</span>&gt;<a class="code" href="class_category.html" title="Class representing one category node.">Category</a>&lt;/span&gt;, která bude tvořena:
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 &lt;ul&gt;
<a name="l00150"></a>00150 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;$name a <a class="code" href="mice_8php.html#ae97941710d863131c700f069b109991e">$id</a>&lt;/div&gt;
<a name="l00151"></a>00151   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Jméno a ID kategorie.&lt;/div&gt;&lt;/li&gt;
<a name="l00152"></a>00152 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;$sons a $sonCount&lt;/div&gt;
<a name="l00153"></a>00153   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Pole odkazů na syny a počet synů.&lt;/div&gt;&lt;/li&gt;
<a name="l00154"></a>00154 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;$father&lt;/div&gt;
<a name="l00155"></a>00155   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Ukazatel na rodiče.&lt;/div&gt;&lt;/li&gt;
<a name="l00156"></a>00156 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;$toBePrinted&lt;/div&gt;
<a name="l00157"></a>00157   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Příznak, jestli bude tato kategorie v menu zobrazena.&lt;/div&gt;&lt;/li&gt;
<a name="l00158"></a>00158 &lt;/ul&gt;
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 &lt;p&gt;
<a name="l00161"></a>00161 Odkaz na strom kategorií bude ve třídě &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;klass&quot;</span>&gt;<a class="code" href="class_categories.html" title="Class representing a tree of categories.">Categories</a>&lt;/span&gt;, která obsahuje:
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 &lt;ul&gt;
<a name="l00164"></a>00164 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;$baseNode&lt;/div&gt;
<a name="l00165"></a>00165   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Ukazatel na celý strom kategorií a zároveň je to neviditelná nultá kategorie (kvůli usnadnění implementace).&lt;/div&gt;&lt;/li&gt;
<a name="l00166"></a>00166 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;$currentNode&lt;/div&gt;
<a name="l00167"></a>00167   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Ukazatel na aktuální kategorii (kterou uživatel chce).&lt;/div&gt;&lt;/li&gt;
<a name="l00168"></a>00168 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;__construct&lt;/div&gt;
<a name="l00169"></a>00169   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Parametry konstruktoru budou $allCategories (všechny kategorie z databáze ve formátu sql resultu, seřazené podle superCategory) a $currentCategory (ID aktuální kategorie). V těle konstruktoru se projde $allCategories, naplní se jimi strom kategorií a najde se currentNode. Při plnění stromu se nikdy nemůže stát, že by rodič neexistoval, protože kategorie jsou seřazené podle superCategory a categoryID musí být větší než superCategory v každém řádku tabulky categorií v databázi. &lt;/div&gt;&lt;/li&gt;
<a name="l00170"></a>00170 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;findNode($node, <a class="code" href="mice_8php.html#ae97941710d863131c700f069b109991e">$id</a>)&lt;/div&gt;
<a name="l00171"></a>00171   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Rekurzivní funkce, která buď najde uzel podle ID, nebo vrátí 0 (což znamená chybu).&lt;/div&gt;&lt;/li&gt;
<a name="l00172"></a>00172 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;makePrintable($node), printNode($node, $depth, $categoryMenuPrinter)&lt;/div&gt;
<a name="l00173"></a>00173   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;První funkce označí u všech synů uzlu $node toBePrinted na <span class="keyword">true</span> a zarekurzí se na otce. Funkce printNode vypíše všechny toBePrinted syny (pomocí funkce printCategoryMenuItem, která je v objektu $categoryMenuPrinter) a zarekurzí se na jejich potomky s o 1 větší hloubkou. &lt;/div&gt;&lt;/li&gt;
<a name="l00174"></a>00174 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;printMenuFromCategories($categoryMenuPrinter)&lt;/div&gt;
<a name="l00175"></a>00175   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Použije objekt $categoryMenuPrinter na vypsaní menu všech kategorií, které se vypsat mají, takže zavolá makePrintable na currentNode a pak printNode na baseNode s parametrem $categoryMenuPrinter.&lt;/div&gt;&lt;/li&gt;
<a name="l00176"></a>00176 &lt;li&gt;&lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;getDescendantsOfCurrentCategory()&lt;/div&gt;
<a name="l00177"></a>00177   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Vrátí string, který obsahuje čárkami oddělené categoryID všech kategorí, které jsou v podstromu, jehož kořen je $currentNode. Tento <span class="keywordtype">string</span> bude potřeba v sql dotazech na produkty, které jsou v aktuální kategorii nebo jejích potomcích.
<a name="l00178"></a>00178 &lt;/div&gt;&lt;/li&gt;
<a name="l00179"></a>00179 &lt;/ul&gt;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 &lt;p&gt;
<a name="l00182"></a>00182 O přímo vypsání kategorií <span class="keywordflow">do</span> menu se stará třída &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;klass&quot;</span>&gt;<a class="code" href="class_category_menu_printer.html" title="Category printer that prints a menu from a category tree.">CategoryMenuPrinter</a>&lt;/span&gt;, která musí obsahovat:
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 &lt;ul&gt;
<a name="l00185"></a>00185 &lt;li&gt;
<a name="l00186"></a>00186 konstanty pro odsazení první kategorie a pro odsazení každé další kategorie
<a name="l00187"></a>00187 &lt;/li&gt;
<a name="l00188"></a>00188 &lt;li&gt;
<a name="l00189"></a>00189 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dt&quot;</span>&gt;printCategoryMenuItem($item, $depth)&lt;/div&gt;
<a name="l00190"></a>00190   &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;dd&quot;</span>&gt;Funkce, která vypisuje potřebné údaje kategorie $category odsazené o počet pixelů zjištěný na základě hloubky zanoření ($depth).&lt;/div&gt;
<a name="l00191"></a>00191 &lt;/li&gt;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 &lt;/ul&gt;
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 &lt;p&gt;
<a name="l00196"></a>00196 Uživatelem vybraná kategorie se bude získávat z proměnné $_GET[<span class="stringliteral">&#39;cat&#39;</span>].
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 &lt;h3&gt; Položky kategorií &lt;/h3&gt;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 &lt;p&gt;
<a name="l00201"></a>00201 Jednotlivé položky kategorií budou v databázi uloženy v tabulce &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;klass&quot;</span>&gt;Products&lt;/span&gt;, která určitě musí obsahovat productID, categoryID (<span class="keywordflow">do</span> které položka patří) a pak další sloupce, které obsahují informace důležité pro uživatele. Pro internetový obchod to bude productName, productPrice, productDescription a imagePath (obrázky budou uložené jinde, v databázi bude jenom cesta k nim).
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 &lt;p&gt;
<a name="l00204"></a>00204 Při kliknutí na kategorii v levém menu se ve vnitřní stránce zobrazí všechny položky dané kategorie, při kliknutí na nějakou z těchto položek se pomocí skriptu item.php zobrazí ta samá položka spolu se všemi podobnými položkami (pomocí funkce BlackBox::getSimilarItems). To samé se stane, pokud uživatel klikne na tuto položku v pravém menu. V internetovém obchodě se navíc zobrazí ještě tlačítko pro přidání produktu <span class="keywordflow">do</span> košíku. 
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 &lt;h3&gt; Třída &lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;klass&quot;</span>&gt;MainEngine&lt;/span&gt;  &lt;/h3&gt;
<a name="l00207"></a>00207 
<a name="l00208"></a>00208 &lt;p&gt;
<a name="l00209"></a>00209 Tato třída obsahuje všechny funkce, které se budou volat ze skriptů, které tvoří stránky, které se zobrazují uživateli (jako je main.php nebo produkt.php). Bude si držet odkaz na instanci třídy <a class="code" href="class_categories.html" title="Class representing a tree of categories.">Categories</a>, protože ji může víckrát potřebovat a bylo by neefektivní ji pořád konstruovat. Je to taky jediná třída, která používá třídy <a class="code" href="class_black_box.html" title="Handles Preference objects, calls their set and getPreference method.">BlackBox</a> a Categories.
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 &lt;p&gt;
<a name="l00212"></a>00212 Funkce, které bude tato třída obsahovat:
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 &lt;?php
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 echo <span class="stringliteral">&#39;&lt;ul&gt;&#39;</span>;
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&quot;__construct()&quot;</span>, <span class="stringliteral">&#39;Inicializuje odkaz na kategorie $categories, takže nejdřív od černé skříňky dostane seznam kategorií, potom podle $_GET[&quot;cat&quot;] zjistí, na jakou kategorii uživatel klikl, a pak vytvoří nový objekt třídy Categories.&#39;</span>);
<a name="l00221"></a>00221 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&quot;printLeftMenu()&quot;</span>, <span class="stringliteral">&#39;Pouze vytvoří nový objekt třídy CategoryMenuPrinter a zavolá funkci printMenuFromCategories ze třídy Categories.&#39;</span>);
<a name="l00222"></a>00222 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&quot;printRightMenu()&quot;</span>, <span class="stringliteral">&#39;V pravém menu jsou nejzajímavější položky dané kategorie a všech podkategorií, takže zavolá getDescendantsOfCurrentCategory ze třídy Categories a potom getTopItems z černé skříňky. Výsledky se pak snadno vypíší.&#39;</span>);
<a name="l00223"></a>00223 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&quot;printTopMenu()&quot;</span>, <span class="stringliteral">&#39;V horním menu jsou informace o stránkách a tak podobně, pouze je vypíše.&#39;</span>);
<a name="l00224"></a>00224 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&quot;printMainPage()&quot;</span>, <span class="stringliteral">&#39;Vytiskne vnitřní stránku, ve které je seznam položek zvolené kategorie. Takže nejdřív zobrazí formuláře pro změnu třídění položek, pro počet položek na stránku a pro číslo stránky a pak zavolá funkci printProductsOfCurrentCategory s potřebnými parametry.&#39;</span>);
<a name="l00225"></a>00225 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&quot;printSimilarProducts()&quot;</span>, <span class="stringliteral">&#39;Vypíše všechny produkty podobné zobrazovanému produktu. Takže zavolá getSimilarProducts z černé skříňky a jednoduše je zobrazí.&#39;</span>);
<a name="l00226"></a>00226 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&quot;printLinkedProducts()&quot;</span>, <span class="stringliteral">&#39;Skoro stejné jako printSimilarProducts, jenom vypisuje &quot;spojené&quot; produkty.&#39;</span>);
<a name="l00227"></a>00227 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;printOneProduct($id)&#39;</span>, <span class="stringliteral">&#39;Tuto funkci používá item.php pro vypsání jedné položky (produktu) do vnitřní stránky (po tom, co na ní uživatel klikl v main.php nebo v pravém menu). Takže získá údaje z databáze a vypíše je, pak zavolá printSimilarProducts.&#39;</span>);
<a name="l00228"></a>00228 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;printProductsOfCurrentCategory($sortingOrder, $itemsPerPage, $pageNumber)&#39;</span>, <span class="stringliteral">&#39;Tato funkce tiskne položky aktuální kategorie (na kterou klikl uživatel), takže z $sortingOrder zjistí, jaké třídění použít v sql dotazu, získá všechny potomky aktuální kategorie a může z databáze dostat všechny potřebné položky. Pak už je jen vypíše.&#39;</span>);
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 echo <span class="stringliteral">&#39;&lt;/ul&gt;&#39;</span>;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 ?&gt;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 &lt;h3&gt; Umístění souborů &lt;/h3&gt;
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 Pouze skripty main.php, item.php a cart.php jsou <span class="stringliteral">&quot;hlavní&quot;</span>, tedy uživateli se budou posílat, obsahují celou html strukturu atd. Musejí requirovat myFunctions.php, connect.php a mainEngine.php. Všechny ostatní jsou pouze pomocné a vkládají se <span class="keywordflow">do</span> těchto tří. 
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 
<a name="l00242"></a>00242 &lt;?php
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 echo <span class="stringliteral">&#39;&lt;ul&gt;&#39;</span>;
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;blackBox.php&#39;</span>,<span class="stringliteral">&#39;Obsahuje černou skříňku a všechny poděděné třídy.&#39;</span>);
<a name="l00247"></a>00247 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;categories.php&#39;</span>,<span class="stringliteral">&#39;Obsahuje třídy Category, Categories a CategoryMenuPrinter.&#39;</span>);
<a name="l00248"></a>00248 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;cart.php&#39;</span>,<span class="stringliteral">&#39;Skript pro zobrazení obsahu košíku a provedení celého nákupu. Po uskutečnění nákupu se uživateli zobrazí všechny &quot;spojené&quot; produkty, jak je určila černá skříňka.&#39;</span>);
<a name="l00249"></a>00249 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;connect.php&#39;</span>,<span class="stringliteral">&#39;Pomocný skript pro připojení k databázi.&#39;</span>);
<a name="l00250"></a>00250 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;item.php&#39;</span>,<span class="stringliteral">&#39;Zobrazuje jednu položku ve vnitřní stránce pomocí funkce printOneProduct z MainEngine.&#39;</span>);
<a name="l00251"></a>00251 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;main.php&#39;</span>,<span class="stringliteral">&#39;Zobrazuje ve vnitřní stránce položky dané kategorie pomocí funkce printProductsOfCurrentCategory z MainEngine.&#39;</span>);
<a name="l00252"></a>00252 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;mainEngine.php&#39;</span>,<span class="stringliteral">&#39;Obsahuje třídu MainEngine a musí requirovat soubory blackBox.php a categories.php.&#39;</span>);
<a name="l00253"></a>00253 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;myFunctions.php&#39;</span>,<span class="stringliteral">&#39;Obsahuje funkci query (pomocná pro sql dotazy, automaticky escapuje parametry) a vypíná magic quotes na get, post a cookie (když je na hostingu zaplá).&#39;</span>);
<a name="l00254"></a>00254 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;css/style.css&#39;</span>,<span class="stringliteral">&#39;Stylopis pro hlavní skripty.&#39;</span>);
<a name="l00255"></a>00255 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;title.php&#39;</span>,<span class="stringliteral">&#39;Titulek stránek obchodu, bude úplně nahoře, bude obsahovat nějaký obrázek a formulář pro přihlášení uživatele.&#39;</span>);
<a name="l00256"></a>00256 <a class="code" href="spec_8php.html#a8ccb6608fef116c96f18191f6895dece">printDefinitionListItem</a>(<span class="stringliteral">&#39;leftMenu.php, rightMenu.php, topMenu.php&#39;</span>,<span class="stringliteral">&#39;</span>
<a name="l00257"></a>00257 <span class="stringliteral">Levé, pravé a horní menu stránek. Pouze používají odpovídající funkci z MainEnginu.&#39;</span>);
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 echo <span class="stringliteral">&#39;&lt;/ul&gt;&#39;</span>;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 ?&gt;
<a name="l00262"></a>00262 
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 &lt;h3&gt; Ostatní &lt;/h3&gt;
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 &lt;img src=<span class="stringliteral">&quot;img/managers.png&quot;</span> alt=<span class="stringliteral">&quot;&quot;</span>&gt;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 
<a name="l00272"></a>00272 &lt;p&gt;
<a name="l00273"></a>00273 Ještě zbývá naspecifikovat vzhled a používání stylů, průběh nakupování, přihlašování a správu uživatelů...
<a name="l00274"></a>00274     
<a name="l00275"></a>00275     &lt;/div&gt;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 
<a name="l00278"></a>00278   &lt;/body&gt;
<a name="l00279"></a>00279 &lt;/html&gt;
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Jul 18 2010 11:17:54 for Shop by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.0 </small></address>
</body>
</html>
